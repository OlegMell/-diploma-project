<div class="relative-container"
     *ngIf="!scrolled"
     [ngClass]="centerPosition ? 'center-position' : ''">
  <div class="menu-box" [ngClass]="isProfileClicked ? 'active' : 'hidden'">

    <div class="profile"
         [class.active-color]="isProfileClicked"
         (click)="isProfileClicked = !isProfileClicked">

      <div class="avatar">

        <img *ngIf="isPhotoLoaded" class="avatar-img"
             src="{{this.photo}}"
             alt="profile avatar">

        <mat-spinner *ngIf="!isPhotoLoaded" diameter="40"></mat-spinner>

      </div>
      <span class="username" *ngIf="user">@{{user.username}}</span>
      <span class="username" *ngIf="!user">@{{authFacade.username$ | async}}</span>
    </div>

    <div class="overlay">

      <div class="dropdown" *ngIf="!user">

        <div class="dropdown-option" (click)="editProfile()">Редактировать</div>

        <div (click)="toggleTheme()"
             class="dropdown-option">
          {{ themeService.getCurrentTheme === 'light' ? 'Темная' : 'Светлая' }} тема
        </div>

        <div (click)="logout()" class="dropdown-option">Выход</div>
      </div>
    </div>
  </div>

</div>
